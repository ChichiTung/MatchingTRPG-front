import{d as T,aa as J,ab as Q,X as Y,u as Z,V as R,w as D,a9 as ee,ac as te,ad as oe,A as ne}from"./router-a3ed6b9b.js";import{_ as ie}from"./matching_半身-01-8616c978.js";import{g as y,S as re}from"./ScrollTrigger-010257a6.js";import{a as se,d as H,h as q,e as z,u as j,f as $,g as E}from"./Icon-256e2cea.js";import{d as N,c as W,h as S,o as ae,a as F,r as le,f as V,l as O,m as o,W as C,ah as b,k as r,j as u,F as de,t as ce,a8 as k}from"./plugin-vueexport-helper-64b0a016.js";import{_ as ue}from"./Modal-6cb1de9b.js";import{_ as me}from"./InputNumber-12202fae.js";import{_ as _e}from"./Image-397f2f14.js";import{u as pe}from"./use-message-bfd9ee41.js";import{b as he,a as ge,c as fe,d as xe,_ as ve}from"./Grid-cb12efef.js";import"./Card-c7acf0a4.js";import"./index-714b5119.js";import"./use-locale-24efefdf.js";import"./Add-ebcce62a.js";import"./_createCompounder-1e09d40a.js";import"./context-67d59cb1.js";const be={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},ye=a=>{const{primaryColor:l,textColor2:c,borderColor:m,lineHeight:i,fontSize:d,borderRadiusSmall:s,dividerColor:t,fontWeightStrong:_,textColor1:p,textColor3:g,infoColor:e,warningColor:n,errorColor:f,successColor:x,codeColor:w}=a;return Object.assign(Object.assign({},be),{aTextColor:l,blockquoteTextColor:c,blockquotePrefixColor:m,blockquoteLineHeight:i,blockquoteFontSize:d,codeBorderRadius:s,liTextColor:c,liLineHeight:i,liFontSize:d,hrColor:t,headerFontWeight:_,headerTextColor:p,pTextColor:c,pTextColor1Depth:p,pTextColor2Depth:c,pTextColor3Depth:g,pLineHeight:i,pFontSize:d,headerBarColor:l,headerBarColorPrimary:l,headerBarColorInfo:e,headerBarColorError:f,headerBarColorWarning:n,headerBarColorSuccess:x,textColor:c,textColor1Depth:p,textColor2Depth:c,textColor3Depth:g,textColorPrimary:l,textColorInfo:e,textColorSuccess:x,textColorWarning:n,textColorError:f,codeTextColor:c,codeColor:w,codeBorder:"1px solid #0000"})},Ce={name:"Typography",common:se,self:ye},U=Ce,we=H("h",`
 font-size: var(--n-font-size);
 font-weight: var(--n-font-weight);
 margin: var(--n-margin);
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[q("&:first-child",{marginTop:0}),z("prefix-bar",{position:"relative",paddingLeft:"var(--n-prefix-width)"},[z("align-text",{paddingLeft:0},[q("&::before",{left:"calc(-1 * var(--n-prefix-width))"})]),q("&::before",`
 content: "";
 width: var(--n-bar-width);
 border-radius: calc(var(--n-bar-width) / 2);
 transition: background-color .3s var(--n-bezier);
 left: 0;
 top: 0;
 bottom: 0;
 position: absolute;
 `),q("&::before",{backgroundColor:"var(--n-bar-color)"})])]),ke=Object.assign(Object.assign({},$.props),{type:{type:String,default:"default"},prefix:String,alignText:Boolean}),P=a=>N({name:`H${a}`,props:ke,setup(l){const{mergedClsPrefixRef:c,inlineThemeDisabled:m}=j(l),i=$("Typography","-h",we,U,l,c),d=W(()=>{const{type:t}=l,{common:{cubicBezierEaseInOut:_},self:{headerFontWeight:p,headerTextColor:g,[T("headerPrefixWidth",a)]:e,[T("headerFontSize",a)]:n,[T("headerMargin",a)]:f,[T("headerBarWidth",a)]:x,[T("headerBarColor",t)]:w}}=i.value;return{"--n-bezier":_,"--n-font-size":n,"--n-margin":f,"--n-bar-color":w,"--n-bar-width":x,"--n-font-weight":p,"--n-text-color":g,"--n-prefix-width":e}}),s=m?E(`h${a}`,W(()=>l.type[0]),d,l):void 0;return{mergedClsPrefix:c,cssVars:m?void 0:d,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var l;const{prefix:c,alignText:m,mergedClsPrefix:i,cssVars:d,$slots:s}=this;return(l=this.onRender)===null||l===void 0||l.call(this),S(`h${a}`,{class:[`${i}-h`,`${i}-h${a}`,this.themeClass,{[`${i}-h--prefix-bar`]:c,[`${i}-h--align-text`]:m}],style:d},s)}}),Te=P("1");P("2");P("3");P("4");P("5");P("6");const ze=H("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[z("strong",`
 font-weight: var(--n-font-weight-strong);
 `),z("italic",{fontStyle:"italic"}),z("underline",{textDecoration:"underline"}),z("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),Pe=Object.assign(Object.assign({},$.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),Se=N({name:"Text",props:Pe,setup(a){const{mergedClsPrefixRef:l,inlineThemeDisabled:c}=j(a),m=$("Typography","-text",ze,U,a,l),i=W(()=>{const{depth:s,type:t}=a,_=t==="default"?s===void 0?"textColor":`textColor${s}Depth`:T("textColor",t),{common:{fontWeightStrong:p,fontFamilyMono:g,cubicBezierEaseInOut:e},self:{codeTextColor:n,codeBorderRadius:f,codeColor:x,codeBorder:w,[_]:v}}=m.value;return{"--n-bezier":e,"--n-text-color":v,"--n-font-weight-strong":p,"--n-font-famliy-mono":g,"--n-code-border-radius":f,"--n-code-text-color":n,"--n-code-color":x,"--n-code-border":w}}),d=c?E("text",W(()=>`${a.type[0]}${a.depth||""}`),i,a):void 0;return{mergedClsPrefix:l,compitableTag:J(a,["as","tag"]),cssVars:c?void 0:i,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender}},render(){var a,l,c;const{mergedClsPrefix:m}=this;(a=this.onRender)===null||a===void 0||a.call(this);const i=[`${m}-text`,this.themeClass,{[`${m}-text--code`]:this.code,[`${m}-text--delete`]:this.delete,[`${m}-text--strong`]:this.strong,[`${m}-text--italic`]:this.italic,[`${m}-text--underline`]:this.underline}],d=(c=(l=this.$slots).default)===null||c===void 0?void 0:c.call(l);return this.code?S("code",{class:i,style:this.cssVars},this.delete?S("del",null,d):d):this.delete?S("del",{class:i,style:this.cssVars},d):S(this.compitableTag||"span",{class:i,style:this.cssVars},d)}});const Be={id:"moduleView_bg"},qe={class:"head"},Fe={class:"head_title"},We={style:{color:"#F8E9DD","letter-spacing":"0.5rem"},class:"gm"},$e={class:"info_bar"},Me={class:"column hexagon_1"},Le=o("div",{class:"column_title"},"難度",-1),Re={class:"column_text"},De={class:"column hexagon_2"},Ve=o("div",{class:"column_title"},"時長",-1),Oe={class:"column_text"},He=o("span",{style:{"font-size":"0.5vw"}},"小時",-1),je={class:"column hexagon_3"},Ee=o("div",{class:"column_title"},"人數",-1),Ne={class:"column_text"},Ue=o("span",{style:{position:"absolute",top:"15%",right:"20%"}},"報名",-1),Ie=[Ue],Ae={id:"head_img"},Ke=["src"],Ge={id:"section2"},Xe={id:"content_info"},Je={class:"content_info"},Qe=o("img",{src:ie,class:"cute_img"},null,-1),Ye={id:"content_notice"},Ze={class:"content_notice"},et={id:"gm_intro"},tt={class:"gm_intro_title"},ot={style:{color:"orange"}},nt=o("p",{class:"gm_intro"}," iciendis possimus sunt blanditiis ea aliquam vel placeat, accusamus, corrupti molestiae eum! Fugit perspiciatis, consequatur ut eligendi porro voluptas aliquam provident labore veniam ex! Ex obcaecati pariatur a error est amet accusantium harum quia ut eligendi. Aspernatur veniam qui iste cum quisquam tempore, aut eaque eos non corrupti earum, laboriosam alias in error eum suscipit dolor dicta sapiente excepturi minus itaque unde? Praesentium maxime quam iusto facilis eligendi quis accusamus eaque, iste ducimus nemo ullam ut? Iure reprehenderit reiciendis quas, dolorem quis ex ipsam facere amet, totam ducimus distinctio voluptas, sit aliquam ullam sapiente quisquam accusantium iste cum impedit numquam id illum! Provident facilis neque in quae necessitatibus, cupiditate, quia ut qui expedita laudantium quos nisi. ",-1),it=o("div",{id:"pl_orders"},[o("h2",{class:"pl_orders_title"},"目前的預約"),o("p",null," 3/2 ")],-1),rt={key:0,style:{"text-align":"center",width:"100%"}},st=o("div",{style:{"margin-right":"-50px","padding-right":"60px",color:"#2F4F4088"}}," HO ： ",-1),at={style:{display:"flex","justify-content":"flex"}},lt={style:{display:"flex","justify-content":"flex"}},Tt={__name:"ModuleView",setup(a){y.registerPlugin(re),ae(()=>{y.to("#content_info",{xPercent:10,ease:"none",scrollTrigger:{trigger:"#content_info",scrub:!0,markers:!0}}),y.set("#content_notice",{x:500}),y.to("#content_notice",{xPercent:-15,ease:"none",scrollTrigger:{trigger:"#content_notice",scrub:!0,markers:!0}}),y.to(".head_img_wrapper",{xPercent:-5,ease:"none",scrollTrigger:{trigger:".head_img_wrapper",scrub:!0,markers:!0}}),y.to("#gm_intro",{yPercent:-10,ease:"none",scrollTrigger:{trigger:"gm_intro",scrub:!0,markers:!0,pin:!0}}),y.set(".cute_img",{x:-100}),y.to(".cute_img",{x:55,ease:"none",scrollTrigger:{trigger:".cute_img",scrub:!0,markers:!0}})});const l=Q(),c=Y(),m=pe(),i=Z(),d=F([]),s=F({_id:"",m_name:"",gm:"",pl_id:"",pl_nickname:"",pl_dc_account:"",pl_dc_id:0,ho:1,loading:!1,showModal:!1}),t=F({_id:"",living:!0,name:"",gm:"",minTime:.5,difficulty:.5,image:[],pl:1,hashtag:[],info:"",notice:"",ccfoliaLink:"",discordLink:""}),_=F({_id:"",pl_id:"",pl_nickname:"",pl_dc_account:"",pl_dc_id:"",m_id:"",m_name:"",gm:.5,ho:1,date:""}),p=le(!1),g=async()=>{s.loading=!0;const e={m_id:t._id,m_name:t.name,gm:t.gm,ho:s.ho};try{if(s._id.length===0){const{data2:n}=await te.post("/orders",e);m.success("訂單新增成功"),p.value=!1,console.log(n.result),d.push(n.result)}}catch{}s.loading=!1};return(async()=>{try{const{data:e}=await R.get("/modules/"+l.params.id);t._id=e.result._id,t.living=e.result.living,t.name=e.result.name,t.gm=e.result.gm,t.minTime=e.result.minTime,t.difficulty=e.result.difficulty,t.image=e.result.image[0],t.pl=e.result.pl,t.hashtag=e.result.hashtag,t.info=e.result.info,t.notice=e.result.notice,t.ccfoliaLink=e.result.ccfoliaLink,t.discordLink=e.result.discordLink,document.title=t.name+" | Matching TRPG",console.log(e.result)}catch{console.log("模組取得失敗"),c.go(-1)}try{const{dataOrder:e}=await R.get("/orders/module");_._id=e.result._id,_.pl_id=e.result.pl_id,_.pl_nickname=e.result.pl_nickname,_.pl_dc_account=e.result.pl_dc_account,_.pl_dc_id=e.result.pl_dc_id,_.m_id=e.result.m_id,_.m_name=e.result.m_name,_.gm=e.result.gm,_.ho=e.result.ho,_.date=e.result.date,console.log(e.result)}catch{console.log("訂單取得失敗")}})(),(e,n)=>{const f=Se,x=Te,w=oe,v=he,B=ge,I=me,A=_e,M=ne,L=fe,K=xe,G=ve,X=ue;return V(),O(de,null,[o("div",Be,[o("div",qe,[o("h1",Fe,[C(b(t.name)+" ",1),o("p",We," GM: "+b(t.gm),1)]),o("div",$e,[o("div",Me,[Le,o("div",Re,b(t.difficulty),1)]),o("div",De,[Ve,o("div",Oe,[C(b(t.minTime)+" ",1),He])]),o("div",je,[Ee,o("div",Ne,b(t.pl),1)]),o("div",{id:"attend",onClick:n[0]||(n[0]=h=>p.value=!0)},Ie)])]),o("div",Ae,[o("img",{src:t.image,class:"head_img_wrapper"},null,8,Ke)]),o("div",Ge,[o("div",Xe,[r(x,{"align-text":"",type:"warning"},{default:u(()=>[r(f,{style:{color:"#2F4F40","font-weight":"800"},strong:""},{default:u(()=>[C(' " 模組簡介 " ')]),_:1})]),_:1}),o("p",Je,b(t.info),1)]),Qe,o("div",Ye,[r(x,{prefix:"bar","align-text":"",type:"warning",style:{"margin-left":"3%"}},{default:u(()=>[r(f,{style:{color:"#2F4F4055","font-weight":"800"},strong:""},{default:u(()=>[C(" NOTICE ")]),_:1})]),_:1}),o("p",Ze,b(t.notice),1)])]),o("div",et,[o("h2",tt,[C(" - About GM "),o("span",ot,"   "+b(t.gm),1),C(" -")]),nt]),it]),r(X,{show:p.value,"onUpdate:show":n[8]||(n[8]=h=>p.value=h),"trap-focus":!1,"mask-closable":!1},{default:u(()=>[r(G,{model:s,"label-placement":"top",style:{"background-color":"#F8E9DD","border-radius":"15px",padding:"2%",width:"60vw"},onSubmit:D(g,["prevent"])},{default:u(()=>[r(K,{cols:"6 l:12","item-responsive":"",responsive:"screen","x-gap":"30"},{default:u(()=>[r(v,{span:"12"},{default:u(()=>[r(w,{"title-placement":"left",style:{"--n-color":"#5d8585","--n-text-color":"#5d8585",margin:"-8vh 0 -10vh 0"}},{default:u(()=>[s._id.length<=0?(V(),O("h2",rt,b(t.name)+"   報名中",1)):ce("",!0)]),_:1})]),_:1}),r(v,{span:"xs:9 m:6 l:6",label:"模組名稱",path:"m_name"},{default:u(()=>[r(B,{value:t.name,"onUpdate:value":n[1]||(n[1]=h=>t.name=h),"default-value":t.name,type:"text",disabled:""},null,8,["value","default-value"])]),_:1}),r(v,{span:"xs:6 m:3 l:3",label:"想要的 HO",path:"pl"},{default:u(()=>[r(I,{value:s.ho,"onUpdate:value":n[2]||(n[2]=h=>s.ho=h),"default-value":1,clearable:""},{prefix:u(()=>[st]),_:1},8,["value"])]),_:1}),r(v,{span:"xs:9 m:6 l:6",label:"PL 頭像",path:"pl_img"},{default:u(()=>[r(A,{src:k(i).image,width:"120"},null,8,["src"])]),_:1}),r(v,{span:"xs:9 m:6 l:6",label:"PL 暱稱",path:"pl_nickname"},{default:u(()=>[r(B,{value:k(i).nickname,"onUpdate:value":n[3]||(n[3]=h=>k(i).nickname=h),type:"text",disabled:""},null,8,["value"])]),_:1}),r(v,{span:"xs:9 m:6 l:6",label:"PL DC帳號",path:"pl_dc_account"},{default:u(()=>[r(B,{value:k(i).dc_account,"onUpdate:value":n[4]||(n[4]=h=>k(i).dc_account=h),type:"text",disabled:""},null,8,["value"])]),_:1}),r(v,{span:"xs:9 m:6 l:6",label:"PL資料 DC_id",path:"pl_dc_id"},{default:u(()=>[r(B,{value:k(i).dc_id,"onUpdate:value":n[5]||(n[5]=h=>k(i).dc_id=h),type:"text",disabled:""},null,8,["value"])]),_:1}),r(L,{span:"2",offset:"7"},{default:u(()=>[o("div",at,[r(M,{type:"error",ghost:"",disabled:s.loading,round:"",size:"large",style:{width:"9vw",height:"2.2vw","font-size":"1rem"},onClick:n[6]||(n[6]=h=>p.value=!1)},{default:u(()=>[C(" 取    消 ")]),_:1},8,["disabled"])])]),_:1}),r(L,{span:"2"},{default:u(()=>[o("div",lt,[r(M,{disabled:s.loading,round:"",size:"large",style:{width:"9vw",height:"2.2vw","font-size":"1rem"},onKeydown:n[7]||(n[7]=ee(D(()=>{},["prevent"]),["enter"])),onClick:g},{default:u(()=>[C(" 送    出 ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["model","onSubmit"])]),_:1},8,["show"])],64)}}};export{Tt as default};
