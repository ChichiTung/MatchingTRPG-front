import{_ as V,y as B,r as d,e as L,o as I,i as S,d as s,j as o,w as t,z as A,s as C,p as N,b as R,t as U,R as q,v as z,x as D,A as K}from"./index-fcbc0ebc.js";import{v as m,_ as M}from"./index-77aafb6d.js";import{u as j}from"./use-message-f4e7830d.js";import{_ as F,a as O,b as T,c as $,d as G}from"./Grid-a1cb5cdf.js";import"./commonjsHelpers-39b5b250.js";import"./use-locale-72c68c20.js";import"./Suffix-d8d121e3.js";const H=r=>(N("data-v-dc91a2a8"),r=r(),R(),r),J={id:"bg_g"},P={class:"box"},Q=H(()=>s("div",{class:"box_img"},[s("img",{src:M})],-1)),W={class:"box_form"},X={span:6},Y={id:"register"},Z={__name:"LoginView",setup(r){const g=B(),p=d(null),i=d(!1),c=j(),n=L({account:"",password:""}),f={account:[{required:!0,validator(_,e){if(e){if(e.length<5||e.length>21)return new Error("帳號長度須為 6 ~ 20 字");if(!m.isAlphanumeric(e))return new Error("格式不正確")}else return new Error("帳號欄位必填")},trigger:["input","blur"]}],password:[{required:!0,validator(_,e){if(e){if(e.length<5||e.length>21)return new Error("密碼長度須為 6 ~ 20 字");if(!m.isAlphanumeric(e))return new Error("格式不正確")}else return new Error("密碼欄位必填")},trigger:["input","blur"]}]},v=async()=>{i.value=!0,await g.login(n),i.value=!1},w=[{label:()=>U(q,{to:{name:"register"}},{default:()=>"我還沒註冊為探索者 !!"}),key:"go-register"}];function h(_){var e;console.log(n.value),_.preventDefault(),(e=p.value)==null||e.validate(a=>{a?(console.log(a),c.error("登錄失敗")):(c.success("登錄成功"),v())})}return(_,e)=>{const a=O,u=T,y=z,b=$,x=G,k=F,E=D;return I(),S("div",J,[s("div",P,[Q,s("div",W,[o(k,{ref_key:"valid",ref:p,model:n,rules:f,"label-placement":"top"},{default:t(()=>[o(x,{cols:"6 s:6 l:12","y-gap":18},{default:t(()=>[o(u,{span:5,label:"登入帳號",path:"account"},{default:t(()=>[o(a,{value:n.account,"onUpdate:value":e[0]||(e[0]=l=>n.account=l),placeholder:"英數字6碼以上",onKeydown:e[1]||(e[1]=A(K(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),o(u,{span:5,label:"密碼",path:"password"},{default:t(()=>[o(a,{value:n.password,"onUpdate:value":e[2]||(e[2]=l=>n.password=l),type:"password",placeholder:"英數字6碼以上"},null,8,["value"])]),_:1}),o(b,{span:6},{default:t(()=>[s("div",X,[o(y,{round:"",type:"primary",loading:i.value,color:"#F9B02D",size:"large",style:{position:"relative",top:"50%",left:"30%"},onClick:h},{default:t(()=>[C("     登    錄      ")]),_:1},8,["loading"])])]),_:1})]),_:1})]),_:1},8,["model"]),s("div",Y,[o(E,{options:w})])])])])}}},_e=V(Z,[["__scopeId","data-v-dc91a2a8"]]);export{_e as default};
