import{u as x,ac as k,am as z,ad as L,A as C}from"./router-a3ed6b9b.js";import{d as F,f as i,l as a,m as t,a as b,e as V,k as s,j as _,F as H,al as N,s as A,W as B,ah as r,a8 as $,t as D}from"./plugin-vueexport-helper-64b0a016.js";import{_ as S}from"./Icon-256e2cea.js";import{_ as T}from"./Table-3dead094.js";import{_ as M}from"./Image-397f2f14.js";import"./use-locale-24efefdf.js";import"./_createCompounder-1e09d40a.js";const O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},R=t("g",{fill:"none"},[t("path",{d:"M3 4h.293L2.146 2.854a.5.5 0 1 1 .708-.708L8.26 7.553l9.594 9.593a.5.5 0 0 1-.708.708l-1.958-1.958l-.038.333A2 2 0 0 1 13.163 18H6.837a2 2 0 0 1-1.987-1.77L3.553 5H3a.5.5 0 0 1-.492-.41L2.5 4.5A.5.5 0 0 1 3 4zm11.286 10.993L12 12.707v1.355c0 .242-.224.438-.5.438c-.245 0-.45-.155-.492-.359L11 14.062v-2.355l-2-2v4.355c0 .242-.224.438-.5.438c-.245 0-.45-.155-.492-.359L8 14.062V8.707L4.596 5.303l1.247 10.812a1 1 0 0 0 .994.885h6.326a1 1 0 0 0 .993-.885l.13-1.122zm1.195-1.633l-.903-.903l.86-7.457H7.121l-1-1H7.5a2.5 2.5 0 0 1 5 0H17a.5.5 0 0 1 0 1h-.554l-.965 8.36zM11.5 4a1.5 1.5 0 0 0-3 0h3zm.5 5.879l-1-1v-.941c0-.242.224-.438.5-.438c.245 0 .45.155.492.359l.008.079v1.94z",fill:"currentColor"})],-1),j=[R],E=F({name:"DeleteOff20Regular",render:function(c,d){return i(),a("svg",O,j)}});const I={id:"favorite_bg"},U=t("h1",{class:"title"},"我的收藏",-1),W=t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"center"}},"圖片"),t("th",{style:{"text-align":"center"}},"名稱"),t("th",{style:{"text-align":"center"}},"報名人數"),t("th",{style:{"text-align":"center"}},"遊玩時間"),t("th",{style:{"text-align":"center"}},"刪除")])],-1),q={style:{width:"20%"}},G={style:{width:"30%","font-size":"20px"}},J={style:{width:"10%","font-size":"20px"}},K={style:{width:"10%","font-size":"20px"}},P={style:{width:"15%","font-size":"20px"}},Q={key:0},X=t("td",null," 收藏庫空空的喔... ",-1),Y=[X],_t={__name:"FavoriteView",setup(m){const c=x(),{editFavorite:d}=c,n=b([]),p=async(e,l)=>{await d({_id:n[e].m_id._id,status:l}),n[e].status+=l,n[e].status<=0&&n.splice(e,1)};return(async()=>{try{const{data:e}=await k.get("/users/favorite");n.push(...e.result)}catch{z.fire({icon:"error",title:"失敗",text:"取得收藏失敗"})}})(),(e,l)=>{const h=L,u=M,f=V("router-link"),g=S,v=C,y=T;return i(),a("div",I,[U,s(h),s(y,{id:"favoriteTable","single-line":!1,striped:"",style:{"margin-top":"5%"},class:"table"},{default:_(()=>[W,t("tbody",null,[(i(!0),a(H,null,N(n,(o,w)=>(i(),a("tr",{key:o._id,class:A({"bg-red":!o.m_id.living}),style:{"text-align":"center"}},[t("td",q,[s(u,{"aspect-ratio":1,src:o.m_id.image[0],width:200},null,8,["src"])]),t("td",G,[s(f,{to:"/modules/"+o.m_id._id,style:{"text-decoration":"none","font-weight":"800",color:"#2F4F40"}},{default:_(()=>[B(r(o.m_id.name),1)]),_:2},1032,["to"])]),t("td",J,r(o.m_id.pl),1),t("td",K,r(o.m_id.minTime),1),t("td",P,[s(v,{type:"error",circle:"",onClick:Z=>p(w,-1)},{icon:_(()=>[s(g,null,{default:_(()=>[s($(E))]),_:1})]),_:2},1032,["onClick"])])],2))),128)),n.length===0?(i(),a("tr",Q,Y)):D("",!0)])]),_:1})])}}};export{_t as default};
